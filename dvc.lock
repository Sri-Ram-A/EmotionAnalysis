schema: '2.0'
stages:
  preprocess:
    cmd: python src/preprocess/user_input.py --config_path params.yaml
    deps:
    - path: src/preprocess/user_input.py
      hash: md5
      md5: 119b1b64b3e4c985c8497587bb4186fb
      size: 1113
    params:
      params.yaml:
        dataset:
          path: data/Twitter/preprocessed/train.csv
          name: Twitter
          nrows: 30000
        preprocess:
          method: bow
          padding:
            padding: post
            truncating: post
            maxlen: 75
    outs:
    - path: src/artifacts/data.h5
      hash: md5
      md5: ed554551be8f4ccf7e752be710c48313
      size: 9962048
    - path: src/artifacts/tokenizer.json
      hash: md5
      md5: ea19dcb099b41b8527999a501dc04ade
      size: 1539678
  train:
    cmd: python src/train/user_input.py --config_path params.yaml
    deps:
    - path: src/artifacts/data.h5
      hash: md5
      md5: bd973528613c06a13be2b0e985d34be9
      size: 6642048
    - path: src/artifacts/tokenizer.json
      hash: md5
      md5: 6704f2047056be38033acd810f541fbc
      size: 1191954
    - path: src/train/user_input.py
      hash: md5
      md5: b2abbb2c37b08c1dcec10ea85176f63d
      size: 4412
    params:
      params.yaml:
        mlflow:
          perform: 'false'
          experiment_name: 2-RNN
          tracking_uri: http://localhost:5000
        model:
          architecture: rnn
          embedding_dimension: 40
        train:
          perform: 'true'
          epochs: 10
          batch_size: 128
          test_size: 0.2
    outs:
    - path: src/artifacts/production_model
      hash: md5
      md5: f069666d17a0a05370702cf2476d7d4b.dir
      size: 3856512
      nfiles: 4
